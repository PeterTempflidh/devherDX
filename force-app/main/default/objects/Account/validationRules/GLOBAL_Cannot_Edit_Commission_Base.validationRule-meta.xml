<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>GLOBAL_Cannot_Edit_Commission_Base</fullName>
    <active>true</active>
    <description>Commission Base cannot be edited once QC has passed (SSC-1643 + SSC-2326)</description>
    <errorConditionFormula>AND(
ISCHANGED(Commission_Base__c),
OR(
ISPICKVAL(Account_Status__c, &quot;Quality Check&quot;),
ISPICKVAL(Account_Status__c, &quot;Menu processing&quot;),
ISPICKVAL(Account_Status__c, &quot;Onboarding&quot;),
ISPICKVAL(Account_Status__c, &quot;Active&quot;)
),
NOT($Permission.Exclude_from_Validation),
OR(
AND(
OR(RecordType.DeveloperName = &quot;SE_Account&quot;,RecordType.DeveloperName = &quot;CZ_Account&quot;),
NOT($Permission.Edit_Commission_Base_Field)
),
AND(
RecordType.DeveloperName = &quot;HU_Account&quot;,
NOT(OR($UserRole.Name = &quot;HU Sales Management&quot;, $UserRole.Name = &quot;HU Management&quot;))
)
)
)</errorConditionFormula>
    <errorMessage>You cannot edit the Commission Base once quality check has passed.</errorMessage>
</ValidationRule>

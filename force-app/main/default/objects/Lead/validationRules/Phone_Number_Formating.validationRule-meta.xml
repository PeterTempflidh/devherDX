<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Phone_Number_Formating</fullName>
    <active>true</active>
    <errorConditionFormula>IF(AND($RecordType.DeveloperName = &apos;DE_Lead&apos;,
	OR(NOT(ISBLANK(PRIORVALUE(GRID__c))),AND(NOT(TEXT(LeadSource) == &apos;Inbound&apos;),NOT(TEXT(LeadSource) == &apos;Recommendation from customer&apos;)))),
	NOT(
		AND(
			IF(LEN (Phone) = 0,true,REGEX(Phone, &quot;^[+]{1}[0-9]{2}[1-9]{1}[0-9]{3,12}$&quot;)),
			IF(LEN (MobilePhone) = 0,true,REGEX(MobilePhone, &quot;^[+]{1}[0-9]{2}[1-9]{1}[0-9]{3,12}$&quot;)),
			IF(LEN (Other_Phone__c) = 0,true,REGEX(Other_Phone__c, &quot;^[+]{1}[0-9]{2}[1-9]{1}[0-9]{3,12}$&quot;))
		)
	)
,false)</errorConditionFormula>
    <errorMessage>Telephone numbers have to be formatted like this: +4955523681234 (+CountryCodeAreaCodeNumber)</errorMessage>
</ValidationRule>
